<!DOCTYPE html public>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        
        <title></title>
        <link rel="stylesheet" type="text/css" href="/stylesheets/instagram.css" />
        
        <!-- Internet Explorer HTML5 enabling code: -->
        
        <!--[if IE]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        
        <style type="text/css">
        .clear {
          zoom: 1;
          display: block;
        }
        </style>

        
        <![endif]-->
    </head>
    <body>
    	<section id="page">
            <header>
                <hgroup>
                    <h1>jquery.instagram.js</h1>
                </hgroup>
                <nav class="clear"></nav>
            </header>
            
            <section id="articles">
                <h1>My Feed</h1>
				<div id="me"></div>
				<h1>Snoop's Feed</h1>
				<div id="user"></div>
				<h1>My Likes Feed</h1>
				<div id="myLikes"></div>
				<h1>Popular</h1>
				<div id="popular"></div>
				<h1>Tagged Search</h1>
				<div id="search"></div>
				
				<div style="margin-left: 15px; padding: 5px; background-color: #a7a7a7; position: absolute; opacity: 0; filter:alpha(opacity=0)" class="caption"></div>
			</section>

	        <footer>
	           <div class="line"></div>
			   <p></p>	         
	        </footer>
		</section> 
        
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
        <script src="javascripts/jquery.instagram.js"></script>
        
        <script type="text/javascript">
        	$(document).ready(function(){
        		var $caption = $('.caption');
        		
        		
        	    $("#me").instagram('getStream', {
					count: 4,
					callback: function() {
						$.each($('#me img'), function() {
							var $this = $(this);
							var largeUrl = $this.data('altImageSizes').standard_resolution.url;
							
							$this.click(function() {
								window.open(largeUrl); 
							}).mouseover(function() {
								
								var html = $this.data('user').username;
								if ($this.data('caption') != null) {
									html += ': ' + $(this).data('caption').text;
								}
								
								$this.mousemove(function(e){
									$caption.css({left: e.pageX, top: e.pageY});
								});
				
								$caption.html(html);
								$caption.animate({
								  opacity: 1
								}, {queue: false});
							}).mouseout(function(){
								$caption.animate({
								  opacity: 0
								}, {queue: false});
							});
						});
					}
				});
				
				$("#user").instagram('getStream', {
					count: 4,
					user: 1574083,
					callback: function() {
						$.each($('#user img'), function() {
							var $this = $(this);
							var largeUrl = $this.data('altImageSizes').standard_resolution.url;
							$this.click(function() {
								window.open(largeUrl); 
							}).mouseover(function() {
								
								var html = $this.data('user').username;
								if ($this.data('caption') != null) {
									html += ': ' + $(this).data('caption').text;
								}
								
								$this.mousemove(function(e){
									$caption.css({left: e.pageX, top: e.pageY});
								});
								
								$caption.html(html);
								$caption.animate({
								  opacity: 1
								}, {queue: false});
							}).mouseout(function(){
								$caption.animate({
								  opacity: 0
								}, {queue: false});
							});
						});
					}
				});
				
				$("#myLikes").instagram('getMyLikes', {
					count: 4,
					callback: function() {
						$.each($('#myLikes img'), function() {
							var $this = $(this);
							var largeUrl = $this.data('altImageSizes').standard_resolution.url;
							$this.click(function() {
								window.open(largeUrl); 
							}).mouseover(function() {
								
								var html = $this.data('user').username;
								if ($this.data('caption') != null) {
									html += ': ' + $(this).data('caption').text;
								}
								
								$this.mousemove(function(e){
									$caption.css({left: e.pageX, top: e.pageY});
								});
								
								$caption.html(html);
								$caption.animate({
								  opacity: 1
								}, {queue: false});
							}).mouseout(function(){
								$caption.animate({
								  opacity: 0
								}, {queue: false});
							});
						});
					}
				});
				
				$("#popular").instagram('getPopularStream', {
				    count: 4,
				    callback: function() {
						$.each($('#popular img'), function() {
							var $this = $(this);
							var largeUrl = $this.data('altImageSizes').standard_resolution.url;
							$this.click(function() {
								window.open(largeUrl); 
							}).mouseover(function() {
								
								var html = $this.data('user').username;
								if ($this.data('caption') != null) {
									html += ': ' + $(this).data('caption').text;
								}
								
								$this.mousemove(function(e){
									$caption.css({left: e.pageX, top: e.pageY});
								});
								
								$caption.html(html);
								$caption.animate({
								  opacity: 1
								}, {queue: false});
							}).mouseout(function(){
								$caption.animate({
								  opacity: 0
								}, {queue: false});
							});
						});
					}
				});
				
				$("#search").instagram('getStreamByTag', {
				    count: 4,
				    tag: 'transformers',
				    callback: function() {
						$.each($('#search img'), function() {
							var $this = $(this);
							var largeUrl = $this.data('altImageSizes').standard_resolution.url;
							$this.click(function() {
								window.open(largeUrl); 
							}).mouseover(function() {
								
								var html = $this.data('user').username;
								if ($this.data('caption') != null) {
									html += ': ' + $(this).data('caption').text;
								}
								
								$this.mousemove(function(e){
									$caption.css({left: e.pageX, top: e.pageY});
								});
								
								$caption.html(html);
								$caption.animate({
								  opacity: 1
								}, {queue: false});
							}).mouseout(function(){
								$caption.animate({
								  opacity: 0
								}, {queue: false});
							});
						});
					}
				});
			});
        </script>
    </body>
</html>
